!function(t,s,i,e){"use strict";Foundation.libs.topbar={name:"topbar",version:"4.1.7",settings:{index:0,stickyClass:"sticky",custom_back_text:!0,back_text:"Back",scrolltop:!0,init:!1},init:function(i,e,a){Foundation.inherit(this,"data_options");var n=this;return"object"==typeof e?t.extend(!0,this.settings,e):"undefined"!=typeof a&&t.extend(!0,this.settings,a),"string"!=typeof e?(t(".top-bar, [data-topbar]").each(function(){t.extend(!0,n.settings,n.data_options(t(this))),n.settings.$w=t(s),n.settings.$topbar=t(this),n.settings.$section=n.settings.$topbar.find("section"),n.settings.$titlebar=n.settings.$topbar.children("ul").first(),n.settings.$topbar.data("index",0);var i=t("<div class='top-bar-js-breakpoint'/>").insertAfter(n.settings.$topbar);n.settings.breakPoint=i.width(),i.remove(),n.assemble(),n.settings.$topbar.parent().hasClass("fixed")&&t("body").css("padding-top",n.outerHeight(n.settings.$topbar))}),n.settings.init||this.events(),this.settings.init):this[e].call(this,a)},events:function(){var i=this,e=this.outerHeight(t(".top-bar, [data-topbar]"));t(this.scope).on("click.fndtn.topbar",".top-bar .toggle-topbar, [data-topbar] .toggle-topbar",function(a){var n=t(this).closest(".top-bar, [data-topbar]"),o=n.find("section, .section"),d=n.children("ul").first();n.data("height")||i.largestUL(),a.preventDefault(),i.breakpoint()&&n.toggleClass("expanded").css("min-height",""),n.hasClass("expanded")?n.parent().hasClass("fixed")&&(n.parent().removeClass("fixed"),n.addClass("fixed"),t("body").css("padding-top","0"),i.settings.scrolltop&&s.scrollTo(0,0)):(i.rtl?(o.css({right:"0%"}),o.find(">.name").css({right:"100%"})):(o.css({left:"0%"}),o.find(">.name").css({left:"100%"})),o.find("li.moved").removeClass("moved"),n.data("index",0),n.hasClass("fixed")&&(n.parent().addClass("fixed"),n.removeClass("fixed"),t("body").css("padding-top",e)))}).on("click.fndtn.topbar",".top-bar .has-dropdown>a, [data-topbar] .has-dropdown>a",function(s){var e=t(this).closest(".top-bar, [data-topbar]"),a=e.find("section, .section"),n=e.children("ul").first(),o=t(this).next(".dropdown").outerHeight();if((Modernizr.touch||i.breakpoint())&&s.preventDefault(),i.breakpoint()){var d=t(this),r=d.closest("li");e.data("index",e.data("index")+1),r.addClass("moved"),i.rtl?(a.css({right:-(100*e.data("index"))+"%"}),a.find(">.name").css({right:100*e.data("index")+"%"})):(a.css({left:-(100*e.data("index"))+"%"}),a.find(">.name").css({left:100*e.data("index")+"%"})),t(".top-bar, [data-topbar]").css("min-height",o),d.siblings("ul").height(e.data("height")+i.outerHeight(n,!0)),e.css("min-height",e.data("height")+2*i.outerHeight(n,!0))}}),t(s).on("resize.fndtn.topbar",function(){i.breakpoint()||t(".top-bar, [data-topbar]").css("min-height","").removeClass("expanded")}.bind(this)),t(this.scope).on("click.fndtn",".top-bar .has-dropdown .back, [data-topbar] .has-dropdown .back",function(s){s.preventDefault();var e=t(this),a=e.closest(".top-bar, [data-topbar]"),n=a.find("section, .section"),o=e.closest("li.moved"),d=o.parent();a.data("index",a.data("index")-1),i.rtl?(n.css({right:-(100*a.data("index"))+"%"}),n.find(">.name").css({right:100*a.data("index")+"%"})):(n.css({left:-(100*a.data("index"))+"%"}),n.find(">.name").css({left:100*a.data("index")+"%"})),0===a.data("index")&&a.css("min-height",0),setTimeout(function(){o.removeClass("moved")},300)})},breakpoint:function(){return t(s).width()<=this.settings.breakPoint||t("html").hasClass("lt-ie9")},assemble:function(){var s=this;this.settings.$section.detach(),this.settings.$section.find(".has-dropdown>a").each(function(){var i=t(this),e=i.siblings(".dropdown"),a=t('<li class="title back js-generated"><h5><a href="#"></a></h5></li>');a.find("h5>a").html(1==s.settings.custom_back_text?"&laquo; "+s.settings.back_text:"&laquo; "+i.html()),e.prepend(a)}),this.settings.$section.appendTo(this.settings.$topbar),this.sticky()},largestUL:function(){var s=this.settings.$topbar.find("section ul ul"),i=s.first(),e=0,a=this;s.each(function(){t(this).children("li").length>i.children("li").length&&(i=t(this))}),i.children("li").each(function(){e+=a.outerHeight(t(this),!0)}),this.settings.$topbar.data("height",e)},sticky:function(){var i="."+this.settings.stickyClass;if(t(i).length>0){var e=t(i).length?t(i).offset().top:0,a=t(s),n=this.outerHeight(t(".top-bar"));a.scroll(function(){a.scrollTop()>=e?(t(i).addClass("fixed"),t("body").css("padding-top",n)):a.scrollTop()<e&&(t(i).removeClass("fixed"),t("body").css("padding-top","0"))})}},off:function(){t(this.scope).off(".fndtn.topbar"),t(s).off(".fndtn.topbar")}}}(Foundation.zj,this,this.document);
//# sourceMappingURL=./foundation.topbar.min.map